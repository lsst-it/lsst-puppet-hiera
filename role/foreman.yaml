---
classes:
  - "profile::core::common"
  - "profile::core::puppet_master"
  - "sysctl::values"
cron::job:
  r10k:
    command: "systemd-cat -t 'r10k-cron' /opt/puppetlabs/puppet/bin/r10k deploy environment -t -p"
    minute: "*/30"
    hour: "*"
    date: "*"
    month: "*"
    weekday: "*"
    user: "root"
    description: "Run R10K"
r10k::mcollective: false
r10k::cachedir: "/var/cache/r10k"
r10k::sources:
  control:
    remote: "https://github.com/lsst-it/lsst-itconf"
    basedir: "/etc/puppetlabs/code/environments"
  lsst_hiera_private:
    remote: "git@github.com:lsst-it/lsst-puppet-hiera-private.git"
    basedir: "/etc/puppetlabs/code/hieradata/private"
  lsst_hiera_public:
    remote: "https://github.com/lsst-it/lsst-puppet-hiera.git"
    basedir: "/etc/puppetlabs/code/hieradata/public"
r10k::webhook::config::use_mcollective: false
r10k::webhook::config::enable_ssl: false
r10k::webhook::config::protected: false
r10k::webhook::use_mcollective: false
r10k::webhook::user: "root"
r10k::webhook::group: "root"
sysctl::values::args:
  net.ipv4.conf.all.arp_filter:
    value: 1
    target: "/etc/sysctl.d/91-arp_filter.conf"
  net.ipv4.conf.default.arp_filter:
    value: 1
    target: "/etc/sysctl.d/91-arp_filter.conf"
  net.ipv4.conf.all.rp_filter:
    value: 0
    target: "/etc/sysctl.d/92-rp_filter.conf"
  net.ipv4.conf.default.rp_filter:
    value: 0
    target: "/etc/sysctl.d/92-rp_filter.conf"
