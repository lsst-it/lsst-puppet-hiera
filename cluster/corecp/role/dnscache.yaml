---
dns::forwarders:
  - "208.67.222.222"
  - "208.67.220.220"
dns::allow_recursion:
  - "139.229.0.0/16"
  - "localnets"
  - "localhost"
dns::zones:
  lsst.local:
    zonetype: "forward"
    forward: "only"
    forwarders:
      - "139.229.136.35"
  # cl.lsst.org should be retired once all hosts are migrated to {cp,ls}.lsst.org
  cl.lsst.org:
    zonetype: "forward"
    forward: "only"
    forwarders:
      - "139.229.136.35"
dns::additional_directives:
  - "logging {"
  - "    channel default_file {"
  - "        file \"/var/log/named/default.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel general_file {"
  - "        file \"/var/log/named/general.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel config_file {"
  - "        file \"/var/log/named/config.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel resolver_file {"
  - "        file \"/var/log/named/resolver.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel notify_file {"
  - "        file \"/var/log/named/notify.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel client_file {"
  - "        file \"/var/log/named/client.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel unmatched_file {"
  - "        file \"/var/log/named/unmatched.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel queries_file {"
  - "        file \"/var/log/named/queries.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel network_file {"
  - "        file \"/var/log/named/network.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel update_file {"
  - "        file \"/var/log/named/update.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - "    channel dispatch_file {"
  - "        file \"/var/log/named/dispatch.log\" versions 3 size 5m;"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "    };"
  - ""
  - "    category default { default_file; };"
  - "    category general { general_file; };"
  - "    category config { config_file; };"
  - "    category resolver { resolver_file; };"
  - "    category notify { notify_file; };"
  - "    category client { client_file; };"
  - "    category unmatched { unmatched_file; };"
  - "    category queries { queries_file; };"
  - "    category network { network_file; };"
  - "    category update { update_file; };"
  - "    category dispatch { dispatch_file; };"
  - "};"

files:
  "/var/log/named":
    ensure: "directory"
    owner: "named"
    group: "named"
    mode: "0750"
    backup: false
    purge: false
