---
dns::forwarders:
  - "208.67.222.222"
  - "208.67.220.220"
dns::allow_recursion:
  - "139.229.0.0/16"
  - "localnets"
  - "localhost"
dns::zones:
  lsst.local:
    zonetype: "forward"
    forward: "only"
    forwarders:
      - "139.229.136.35"
  # cl.lsst.org should be retired once all hosts are migrated to {cp,ls}.lsst.org
  cl.lsst.org:
    zonetype: "forward"
    forward: "only"
    forwarders:
      - "139.229.136.35"
dns::additional_directives:
  - "logging {"
  - "    channel default_syslog {"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "        print-category yes;"
  - "        syslog daemon;"
  - "    };"
  - "    channel general_syslog {"
  - "        severity dynamic;"
  - "        print-time yes;"
  - "        print-category yes;"
  - "        syslog daemon;"
  - "    };"
  - "    channel queries_syslog {"
  - "        severity info;"
  - "        print-time yes;"
  - "        print-category yes;"
  - "        syslog daemon;"
  - "    };"
  - ""
  - "    category default { default_syslog; };"
  - "    category general { general_syslog; };"
  - "    category queries { queries_syslog; };"
  - "};"

files:
  "/var/log/named":
    ensure: "directory"
    owner: "named"
    group: "named"
    mode: "0750"
    backup: false
    purge: false
